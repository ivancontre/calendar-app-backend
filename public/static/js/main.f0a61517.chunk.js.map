{"version":3,"sources":["helpers/fetch.ts","store/auth/action.ts","store/auth/types.ts","store/calendar/actions.ts","store/calendar/types.ts","components/ui/Navbar.tsx","helpers/calendar-messages-es.ts","components/calendar/CalendarEvent.tsx","components/calendar/CalendarModal.tsx","store/modal/actions.ts","store/modal/types.ts","components/ui/AddNewFab.tsx","components/ui/DeleteFab.tsx","store/user/action.ts","store/user/types.ts","components/filter/Filter.tsx","store/filter/action.ts","store/filter/types.ts","components/calendar/CalendarScreen.tsx","helpers/prepare-events.ts","hooks/useForm.ts","components/auth/LoginScreen.tsx","components/auth/RegisterScreen.tsx","routers/AuthRouter.tsx","routers/PrivateRoute.tsx","routers/PublicRoute.tsx","routers/AppRouter.tsx","store/modal/reducer.ts","store/calendar/reducer.ts","store/auth/reducer.ts","store/user/reducer.ts","store/filter/reducer.ts","store/index.ts","CalendarApp.tsx","index.tsx"],"names":["allowedMethods","runFetch","endpoint","data","method","token","includes","toUpperCase","Error","join","url","process","options","headers","body","JSON","stringify","fetch","checkingFinish","type","login","user","payload","logout","setActive","calendarEv","addNew","load","calendarEvs","update","deleteItem","id","Navbar","name","useSelector","state","auth","dispatch","useDispatch","className","onClick","Swal","fire","title","showCancelButton","confirmButtonText","then","result","isConfirmed","localStorage","clear","catch","error","icon","faSignOutAlt","messages","allDay","previous","next","today","month","week","day","agenda","date","time","event","noEventsInRange","showMore","total","CalendarEvent","_id","charAt","slice","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","moment","minutes","seconds","add","nowMoreOneHour","clone","initValuesForm","notes","start","endDate","CalendarModal","useState","dateStart","setDateStart","setDateEnd","formValues","setFormValues","titleValid","setTitleValid","modal","calendar","activeEvent","useEffect","item","handleInputChange","target","value","close","setTimeout","isOpen","modalOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","onSubmit","preventDefault","momentStart","momentEnd","isSameOrAfter","trim","length","Date","getTime","toString","toDate","email","a","getItem","resp","json","respJson","ok","msg","console","log","calendarEvent","startAddNew","noValidate","onChange","newEvent","isValidDate","currentDate","isAfter","placeholder","autoComplete","rows","faSave","AddNewFab","faPlus","DeleteFab","faTrash","loadUsers","users","Filter","actionMeta","ids","map","addUserFilter","isMulti","getOptionValue","option","getOptionLabel","CalendarScreen","locale","localizer","momentLocalizer","lastView","setLastView","eventsFiltered","setEventsFiltered","calendarEvents","e","events","eventsAll","filter","startAccessor","endAccessor","eventPropGetter","end","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onView","view","setItem","components","onSelectSlot","info","selectable","useForm","initialState","values","setValues","reset","LoginScreen","password","validator","isEmail","uid","startLogin","to","RegisterScreen","password1","password2","startRegister","AuthRouter","exact","path","component","PrivateRoute","isAuthenticated","rest","Component","props","PublicRoute","AppRouter","checking","existsUID","undefined","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f0a61517.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_URL;\n\nconst allowedMethods = ['GET', 'POST', 'PUT', 'DELETE']\n\nexport const runFetch = (endpoint: string, data: object, method: string, token?: string): Promise<Response> => {\n\n    if (!allowedMethods.includes(method.toUpperCase())) {\n        throw new Error(`Los métodos permitidos son ${allowedMethods.join(', ')}`);\n    }\n\n    const url: RequestInfo = `${baseUrl}/${endpoint}`;\n\n    let options: any = {\n        method,\n        headers: {\n            \"Content-type\": \"application/json\"\n        }\n    };\n\n    if (token) options.headers[\"x-token\"] = token;\n\n    if (method.toUpperCase() !== 'GET') options.body = JSON.stringify(data);\n\n    return fetch(url, options);\n};","//import { ThunkDispatch } from \"redux-thunk\";\nimport { Dispatch } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { runFetch } from \"../../helpers/fetch\";\nimport { AuthActionTypes, \n        authCheckingFinish, \n        authLogin, \n        authLogout, \n        CalendarUser \n} from \"./types\";\n\nexport const startLogin = (email: string, password: string) => {\n    return async (dispatch: Dispatch<AuthActionTypes>) => {\n\n        try {\n            const resp = await runFetch('auth', { email, password }, 'POST');\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                localStorage.setItem('token', respJson.token);\n                localStorage.setItem('token-init-date', new Date().getTime().toString());\n\n                dispatch(login({\n                    _id: respJson.body.uid,\n                    name: respJson.body.name,\n                    email: respJson.body.email\n                }));\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n            \n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n        \n    }\n};\n\nexport const startRegister = (name: string, email: string, password: string) => {\n    return async (dispatch: Dispatch<AuthActionTypes>) => {\n\n        try {\n            const resp = await runFetch('auth/register', { name, email, password }, 'POST');\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                localStorage.setItem('token', respJson.token);\n                localStorage.setItem('token-init-date', new Date().getTime().toString());\n\n                dispatch(login({\n                    _id: respJson.body.uid,\n                    name: respJson.body.name,\n                    email: respJson.body.email\n                }));\n\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n        \n    }\n};\n\nexport const startChecking = () => {\n    return async (dispatch: Dispatch<AuthActionTypes>) => {\n\n        try {\n            const token = localStorage.getItem('token') as string;\n\n            const resp = await runFetch('auth/renew-token',  {}, 'GET', token);\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                localStorage.setItem('token', respJson.token);\n                localStorage.setItem('token-init-date', new Date().getTime().toString());\n\n                dispatch(login({\n                    _id: respJson.body.uid,\n                    name: respJson.body.name,\n                    email: respJson.body.email\n                }));\n\n            } else {\n                dispatch(checkingFinish());\n            }\n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }        \n\n    }   \n};\n\nexport const startLogout = () => {\n    return (dispatch: Dispatch<AuthActionTypes>) => {\n        localStorage.clear();\n        dispatch(logout());\n    }\n};\n\nconst checkingFinish = (): AuthActionTypes => {\n    return {\n        type: authCheckingFinish\n    }\n};\n\nconst login = (user: CalendarUser): AuthActionTypes => {\n    return {\n        type: authLogin,\n        payload: user\n    }\n};\n\nconst logout = (): AuthActionTypes => {\n    return {\n        type: authLogout\n    }\n};","export const authLogin = '[auth] Login';\nexport const authStartRegister = '[auth] Start Register';\nexport const authChecking = '[auth] Cheking login state';\nexport const authCheckingFinish = '[auth] Finish cheking login state';\nexport const authLogout = '[auth] Logout';\nexport const authStartRenewToken = '[auth] Start renew token';\n\nexport interface CalendarUser {\n    _id: string;\n    name: string;\n    email: string;\n    checking?: boolean;\n};\n\nexport interface AuthLogin {    \n    type: typeof authLogin,\n    payload: CalendarUser\n};\n\nexport interface AuthCheckingFinish {    \n    type: typeof authCheckingFinish\n};\n\nexport interface AuthLogout {    \n    type: typeof authLogout\n};\n\nexport type AuthActionTypes = AuthLogin | AuthCheckingFinish | AuthLogout;","import { Dispatch } from 'react';\nimport Swal from 'sweetalert2';\nimport { runFetch } from '../../helpers/fetch';\nimport { prepareCalendarEvs } from '../../helpers/prepare-events';\nimport {    CalendarActionTypes, \n            calendarAddNew, \n            calendarClearActive,\n            calendarDelete,\n            CalendarEv, \n            calendarLoad,\n            calendarReset,\n            calendarSetActive,\n            calendarUpdate\n} from './types';\n\n\nexport const startAddNew = (calendarEv: CalendarEv) => {\n    return async (dispatch: Dispatch<CalendarActionTypes>) => {\n\n        try {\n            \n            const token = localStorage.getItem('token') as string;\n            const resp = await runFetch('calendar-event', calendarEv, 'POST', token);\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                calendarEv.id = respJson.body.calendarEvent.id;\n                dispatch(addNew(calendarEv));\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n\n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n\n    }\n};\n\nexport const startLoad = () => {\n    return async (dispatch: Dispatch<CalendarActionTypes>) => {\n\n        try {\n            const token = localStorage.getItem('token') as string;\n            const resp = await runFetch('calendar-event', {}, 'GET', token);\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                dispatch(load(prepareCalendarEvs(respJson.body.calendarEvents)));\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n\n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n    }\n};\n\nexport const startUpdate = (calendarEv: CalendarEv) => {\n    return async (dispatch: Dispatch<CalendarActionTypes>) => {\n\n        try {\n            \n            const token = localStorage.getItem('token') as string;\n            const resp = await runFetch(`calendar-event/${calendarEv.id}`, calendarEv, 'PUT', token);\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                dispatch(update(calendarEv));\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n\n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n\n    }\n};\n\nexport const startDelete = (id: string) => {\n    return async (dispatch: Dispatch<CalendarActionTypes>) => {\n\n        try {\n            const token = localStorage.getItem('token') as string;\n            const resp = await runFetch(`calendar-event/${id}`, {}, 'DELETE', token);\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                dispatch(deleteItem(id));\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n            \n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n    }\n};\n\nexport const setActive = (calendarEv: CalendarEv): CalendarActionTypes => {\n    return {\n        type: calendarSetActive,\n        payload: calendarEv\n    }\n};\n\nexport const clearActive = (): CalendarActionTypes => {\n    return {\n        type: calendarClearActive\n    }\n};\n\nexport const reset = (): CalendarActionTypes => {\n    return {\n        type: calendarReset\n    }\n};\n\nconst addNew = (calendarEv: CalendarEv): CalendarActionTypes => {\n    return {\n        type: calendarAddNew,\n        payload: calendarEv\n    }\n};\n\nconst load = (calendarEvs: CalendarEv[]): CalendarActionTypes => {\n    return {\n        type: calendarLoad,\n        payload: calendarEvs\n    }\n};\n\nconst update = (calendarEv: CalendarEv): CalendarActionTypes => {\n    return {\n        type: calendarUpdate,\n        payload: calendarEv\n    }\n};\n\nconst deleteItem = (id: string): CalendarActionTypes => {\n    return {\n        type: calendarDelete,\n        payload: id\n    }\n};","import { CalendarUser } from '../../store/auth/types';\n\nexport const calendarStartAddNew = '[calendar] Start add new';\nexport const calendarAddNew = '[calendar] Add new';\nexport const calendarSetActive = '[calendar] Set active';\nexport const calendarClearActive = '[calendar] Clear active';\nexport const calendarUpdate = '[calendar] Update';\nexport const calendarDelete = '[calendar] Delete';\nexport const calendarLoad = '[calendar] Load';\nexport const calendarReset = '[calendar] Reset';\n\nexport interface CalendarEv {\n    id?: string;\n    title: string;\n    start: Date;\n    endDate: Date;\n    user: CalendarUser;\n    notes: string;\n};\n\nexport interface CalendarState {\n    events: CalendarEv[];\n    activeEvent: CalendarEv\n};\n\nexport interface CalendarAddNewAction {    \n    type: typeof calendarAddNew,\n    payload: CalendarEv\n};\n\nexport interface CalendarSetActiveAction {    \n    type: typeof calendarSetActive,\n    payload: CalendarEv\n};\n\nexport interface CalendarClearActiveAction {\n    type: typeof calendarClearActive\n};\n\nexport interface CalendarUpdateAction {\n    type: typeof calendarUpdate,\n    payload: CalendarEv\n};\n\nexport interface CalendarDeleteAction {\n    type: typeof calendarDelete,\n    payload: string\n};\n\nexport interface CalendarLoadAction {\n    type: typeof calendarLoad,\n    payload: CalendarEv[]\n};\n\nexport interface CalendarResetAction {\n    type: typeof calendarReset\n};\n\nexport type CalendarActionTypes = CalendarAddNewAction | CalendarSetActiveAction | CalendarClearActiveAction | CalendarUpdateAction | CalendarDeleteAction | CalendarLoadAction | CalendarResetAction;","import React from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Swal from 'sweetalert2';\n\nimport { RootState } from '../../store';\nimport { startLogout } from '../../store/auth/action';\nimport { reset } from '../../store/calendar/actions';\n\nexport const Navbar: React.FC = () => {\n\n    const { name } = useSelector((state: RootState) => state.auth);\n\n    const dispatch = useDispatch();\n\n    const handleLogout = () => {\n        Swal.fire({\n            title: '¿Seguro que desea salir?',\n            showCancelButton: true,\n            confirmButtonText: `Sí`\n        }).then(result => { \n            if (result.isConfirmed) {\n                dispatch(startLogout());\n                dispatch(reset());\n            }\n\n        }).catch(error => {\n            Swal.fire('Error', error, 'error');\n        });        \n    };\n\n    return (\n        <div className=\"navbar navbar-dark bg-dark mb-4\">\n            <span className=\"navbar-brand\">\n                {  `Bienvenido ${name}` }\n            </span>\n\n            <button onClick={ handleLogout } className=\"btn btn-outline-danger\">\n                <FontAwesomeIcon icon={ faSignOutAlt } /> \n                <span> Salir </span>\n            </button>\n        </div>\n    )\n};","export const messages = {\n    allDay: 'Todo el día',\n    previous: '<',\n    next: '>',\n    today: 'Hoy',\n    month: 'Mes',\n    week: 'Semana',\n    day: 'Día',\n    agenda: 'Agenda',\n    date: 'Fecha',\n    time: 'Hora',\n    event: 'Evento',\n    noEventsInRange: 'No hay eventos en este rango',\n    showMore: (total: number) => `+ Ver más (${total})`\n};","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../store';\nimport { CalendarEv } from '../../store/calendar/types';\n\ninterface CalendarEventProps  {\n    event: CalendarEv;\n};\n\nexport const CalendarEvent: React.FC <CalendarEventProps> = ({ event }: CalendarEventProps) => {\n    \n    const { title, user } = event;\n    const { _id } = useSelector((state: RootState) => state.auth);\n    const name: string = user._id === _id ? 'Yo' : user.name.charAt(0).toUpperCase() + user.name.slice(1);\n\n    return (\n        <div>\n            <strong>{ title }</strong>\n            <p className=\"creator-event\">{ `Creador: ${name}` }</p>\n        </div>\n    );\n};","import React, { useState, FormEvent } from 'react';\nimport Modal from 'react-modal';\nimport moment from 'moment';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\nimport Swal from 'sweetalert2';\nimport Datetime from 'react-datetime';\n\nimport \"react-datetime/css/react-datetime.css\";\n\nimport { RootState } from '../../store';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { closeModal } from '../../store/modal/actions';\nimport { CalendarEv } from '../../store/calendar/types';\nimport { startAddNew, clearActive, startUpdate } from '../../store/calendar/actions';\nimport { useEffect } from 'react';\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n    },\n};\n\nModal.setAppElement('#root');\n\nconst now: moment.Moment = moment().minutes(0).seconds(0).add(1, 'hours');\nconst nowMoreOneHour: moment.Moment = now.clone().add(1, 'hours');\n\nconst initValuesForm = {\n    title: '',\n    notes: '',\n    start: now,\n    endDate: nowMoreOneHour\n};\n\nexport const CalendarModal: React.FC = () => {\n\n    const [dateStart, setDateStart] = useState<moment.Moment>(now);\n    const [dateEnd, setDateEnd] = useState<moment.Moment>(nowMoreOneHour);\n    const [formValues, setFormValues] = useState(initValuesForm);\n\n    const [titleValid, setTitleValid] = useState<boolean>(true);\n\n    const { title, notes, start, endDate } = formValues;\n\n    const { modal, calendar, auth } = useSelector((state: RootState) => state);\n\n    const { activeEvent } = calendar;\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if ( activeEvent ) {\n            const item = {\n                ...activeEvent,\n                start: moment(activeEvent.start),\n                endDate: moment(activeEvent.endDate)\n            };\n            \n            setFormValues(item);\n\n        } else {\n            setFormValues( initValuesForm );\n        }\n\n    }, [activeEvent, setFormValues]);\n\n    const handleInputChange = (event: FormEvent<HTMLInputElement> | FormEvent<HTMLTextAreaElement>): void => {\n        const target = event.target as HTMLTextAreaElement | HTMLTextAreaElement;\n\n        setFormValues({\n            ...formValues,\n            [target.name]: target.value\n        });\n    };\n\n    const close = (): void => {        \n        dispatch(closeModal());\n        setTimeout(() => {\n            dispatch(clearActive());\n            setFormValues(initValuesForm); \n        }, 200);        \n    };\n\n    const handleStartDateChange = (event: string | moment.Moment): void => {\n        const newEvent = typeof event == 'string' ? moment(event) : event;\n        setDateStart(newEvent);\n        setFormValues({\n            ...formValues,\n            start: newEvent\n        })\n    };\n\n    const handleEndDateChange = (event: string | moment.Moment): void => {\n        const newEvent = typeof event == 'string' ? moment(event) : event;\n        setDateEnd(newEvent);\n        setFormValues({\n            ...formValues,\n            endDate: newEvent\n        });\n    };\n\n    const handleSubmitForm = (event: FormEvent<HTMLFormElement>): void => {\n        event.preventDefault();\n\n        const momentStart = moment(start);\n        const momentEnd = moment(endDate);\n\n        if (momentStart.isSameOrAfter(momentEnd, 'hour')) {\n            Swal.fire('Error', 'La fecha fin debe ser mayor a la de inicio', 'error');\n            return;\n        }\n\n        if (title.trim().length < 2) {\n            setTitleValid(false);\n            return;\n        }\n        \n        if (activeEvent?.id) { // actualizando un evento\n            const item: CalendarEv = {\n                id: new Date().getTime().toString(),\n                ...formValues,\n                start: formValues.start.toDate(),\n                endDate: formValues.endDate.toDate(),\n                user: {\n                    _id: auth._id,\n                    name: auth.name,\n                    email: auth.email\n                }\n            };\n\n            dispatch(startUpdate(item));    \n\n        } else { // creando un nuevo evento\n            const item: CalendarEv = {                \n                ...formValues,\n                start: formValues.start.toDate(),\n                endDate: formValues.endDate.toDate(),\n                user: {\n                    _id: auth._id,\n                    name: auth.name,\n                    email: auth.email\n                }\n            };\n    \n            dispatch(startAddNew(item));\n        }\n\n        setTitleValid(true);\n        close();\n    };\n\n    const validationDateEnd = (currentDate: moment.Moment): boolean => {\n        return currentDate.isAfter(moment(dateStart));\n    };\n\n    return (\n        <Modal\n            isOpen={ modal.modalOpen }\n            //onAfterOpen={ afterOpenModal }\n            onRequestClose={ close }\n            style={ customStyles }\n            closeTimeoutMS={ 200 }\n            className=\"modal\"\n            overlayClassName=\"modal-fondo\"\n        > \n            <h1> {activeEvent?.id ? 'Editar evento' : 'Nuevo evento'} </h1>\n            <hr />\n            <form className=\"container\" onSubmit={ handleSubmitForm } noValidate>\n\n                <div className=\"form-group\">\n                    <label>Fecha y hora inicio</label>\n                    {/* <DateTimePicker\n                        onChange={ handleStartDateChange }\n                        value={ dateStart }\n                        className=\"form-control\"\n                    /> */}\n                    <Datetime \n                        onChange={ handleStartDateChange }\n                        value={ start }\n                        //isValidDate={ validationDateStart }\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Fecha y hora fin</label>\n                    {/* <DateTimePicker\n                        onChange={ handleEndDateChange }\n                        value={ dateEnd }\n                        minDate={ dateStart }\n                        className=\"form-control\"\n                    /> */}\n                    <Datetime \n                        onChange={ handleEndDateChange }\n                        value={ endDate }\n                        isValidDate={ validationDateEnd }\n                        \n                    />\n                </div>\n\n                <hr />\n                <div className=\"form-group\">\n                    <label>Título y notas</label>\n                    <input \n                        type=\"text\" \n                        className={`form-control ${!titleValid && 'is-invalid'}`}\n                        placeholder=\"Título del evento\"\n                        name=\"title\"\n                        autoComplete=\"off\"\n                        value={ title }\n                        onChange={ handleInputChange }\n                        \n                    />\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\n                </div>\n\n                <div className=\"form-group\">\n                    <textarea\n                        className=\"form-control\"\n                        placeholder=\"Notas\"\n                        rows={ 5 }\n                        name=\"notes\"\n                        value={ notes }\n                        onChange={ handleInputChange }\n                        \n                    ></textarea>\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\n                </div>\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-outline-primary btn-block\"\n                >\n                    <i className=\"far fa-save\"></i>\n                    <FontAwesomeIcon icon={ faSave } /> \n                    <span> Guardar</span>\n                </button>\n\n            </form>\n        </Modal>\n    )\n};","import { ModalCloseAction, ModalOpenAction, uiCloseModal, uiOpenModal } from './types';\n\nexport const openModal = (): ModalOpenAction => {\n    return {\n        type: uiOpenModal\n    }\n};\n\nexport const closeModal = (): ModalCloseAction => {\n    return {\n        type: uiCloseModal\n    }\n};","export const uiOpenModal = '[ui] Open modal';\nexport const uiCloseModal = '[ui] Close modal';\n\nexport interface ModalState {\n    modalOpen: boolean;\n};\n\nexport interface ModalOpenAction {\n    type: typeof uiOpenModal;\n};\n\nexport interface ModalCloseAction {\n    type: typeof uiCloseModal;\n};\n\nexport type ModalActionTypes = ModalOpenAction | ModalCloseAction;","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { useDispatch } from 'react-redux';\nimport { openModal } from '../../store/modal/actions';\nimport { clearActive } from '../../store/calendar/actions';\n\nexport const AddNewFab: React.FC = () => {\n\n    const dispatch = useDispatch();\n\n    const handleNewEvent = (): void => {\n        dispatch(openModal());\n        dispatch(clearActive());\n    };\n\n    return (\n        <button\n            onClick={ handleNewEvent }\n            className=\"btn btn-primary fab\"\n        >\n            <FontAwesomeIcon icon={ faPlus } />\n        </button>\n    )\n};","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Swal from 'sweetalert2';\n\nimport { RootState } from '../../store';\nimport { startDelete } from '../../store/calendar/actions';\n\n\nexport const DeleteFab: React.FC = () => {\n\n    const { calendar } = useSelector((state: RootState) => state);\n\n    const dispatch = useDispatch();\n\n    const handleNewEvent = (): void => {\n        const activeEvent = calendar.activeEvent;\n        \n        if (activeEvent) {\n\n            Swal.fire({\n                title: '¿Seguro que desea eliminar el evento?',\n                showCancelButton: true,\n                confirmButtonText: `Sí`\n            }).then(result => { \n                if (result.isConfirmed && activeEvent?.id) {\n                    dispatch(startDelete(activeEvent.id));\n                }\n\n            }).catch(error => {\n                Swal.fire('Error', error, 'error');\n            });            \n        }\n        \n    };\n\n    return (\n        <button\n            onClick={ handleNewEvent }\n            className=\"btn btn-danger fab-danger\"\n        >\n            <FontAwesomeIcon icon={ faTrash } />\n        </button>\n    )\n};","import { Dispatch } from \"react\";\nimport Swal from \"sweetalert2\";\nimport { runFetch } from \"../../helpers/fetch\";\nimport { CalendarUser } from \"../auth/types\";\nimport { UserActionTypes, usersLoad } from \"./types\";\n\nexport const startLoadUsers = () => {\n    return async (dispatch: Dispatch<UserActionTypes>) => {\n\n        try {\n            \n            const token = localStorage.getItem('token') as string;\n            const resp = await runFetch('user', {}, 'GET', token);\n            const respJson = await resp.json();\n\n            if (respJson.ok) {\n                const users: CalendarUser[] = respJson.body.users;\n                dispatch(loadUsers(users));\n            } else {\n                Swal.fire('Error', respJson.msg, 'error');\n            }\n\n        } catch (error) {\n            console.log(error);\n            Swal.fire('Error', 'Error en la aplicación', 'error');\n        }\n\n    }\n};\n\nconst loadUsers = (users: CalendarUser[]): UserActionTypes => {\n    return {\n        type: usersLoad,\n        payload: users\n    }\n};","import { CalendarUser } from \"../auth/types\";\n\nexport const usersLoad = '[user] Load users';\n\nexport interface UserState {\n    users: CalendarUser[];\n};\n\nexport interface UsersLoadAction {\n    type: typeof usersLoad;\n    payload: CalendarUser[];\n};\n\nexport type UserActionTypes = UsersLoadAction;","import React from 'react'\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Select, { ActionMeta, OptionsType } from 'react-select';\n\nimport { RootState } from '../../store';\nimport { addUserFilter } from '../../store/filter/action';\nimport { startLoadUsers } from '../../store/user/action';\n\nexport const Filter: React.FC = () => {\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(startLoadUsers());\n    }, [dispatch]);\n\n    const { user } = useSelector((state: RootState) => state);\n    \n\n    const addUserToFilter = (event: OptionsType<object>, actionMeta: ActionMeta<object>) => {\n\n        const ids = event.map((user: any) => {\n            return user._id\n        });\n\n        dispatch(addUserFilter(ids));\n    };\n\n    return (\n        <div className=\"mb-3 ml-1 mr-1\">\n            <Select\n                onChange={ addUserToFilter }\n                options={ user.users }\n                isMulti\n                getOptionValue={ (option: any) => option._id}\n                getOptionLabel={ (option: any) => option.name}  \n                placeholder=\"Buscar por usuario...\"              \n            />\n            \n            \n        </div>\n    )\n};","import { FilterActionTypes, filterAddUser, filterDeleteUser } from \"./types\";\n\nexport const addUserFilter = (ids: string[]): FilterActionTypes => {\n    return {\n        type: filterAddUser,\n        payload: ids\n    }\n};\n\nexport const deleteUserFilter = (id: string): FilterActionTypes => {\n    return {\n        type: filterDeleteUser,\n        payload: id\n    }\n};\n","export const filterAddUser = '[filter] Add user';\nexport const filterDeleteUser = '[filter] Delete user';\n\nexport interface FilterState {\n    users: string[];\n};\n\nexport interface FilterAddUserAction {\n    type: typeof filterAddUser;\n    payload: string[];\n};\n\nexport interface FilterDeleteUserAction {\n    type: typeof filterDeleteUser;\n    payload: string;\n};\n\n\nexport type FilterActionTypes = FilterAddUserAction | FilterDeleteUserAction;","import React, { useEffect, useState } from 'react';\nimport { Calendar, momentLocalizer, SlotInfo } from 'react-big-calendar';\nimport moment from 'moment';\n\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport 'moment/locale/es';\n\nimport { Navbar } from '../ui/Navbar';\nimport { messages } from '../../helpers/calendar-messages-es';\nimport { View, stringOrDate } from 'react-big-calendar';\nimport { CalendarEv } from '../../store/calendar/types';\nimport { CalendarEvent } from './CalendarEvent';\nimport { CalendarModal } from './CalendarModal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { openModal } from '../../store/modal/actions';\nimport { setActive, startLoad } from '../../store/calendar/actions';\nimport { AddNewFab } from '../ui/AddNewFab';\nimport { RootState } from '../../store';\nimport { DeleteFab } from '../ui/DeleteFab';\nimport { Filter } from '../filter/Filter';\n\n\nexport const CalendarScreen: React.FC = () => {\n\n    moment.locale('es');\n    const localizer = momentLocalizer(moment);\n\n    const [lastView, setLastView] = useState<View>(localStorage.getItem('lastView') as View || 'month');\n    const [eventsFiltered, setEventsFiltered] = useState<Array<CalendarEv>>([]);\n\n    const dispatch = useDispatch();   \n\n    useEffect(() => {\n        dispatch(startLoad());\n    }, [dispatch]);     \n\n    const { calendar, auth } = useSelector((state: RootState) => state);\n\n    useEffect(() => {\n\n        setEventsFiltered(calendar.events);\n        \n    }, [calendar.events]);\n\n    const eventsAll: CalendarEv[] = calendar.events;\n\n    const { users } = useSelector((state: RootState) => state.filter);\n\n    useEffect(() => {\n\n        const events: CalendarEv[] = users.length ? eventsAll.filter(event => users.includes(event.user._id)) : eventsAll;\n        setEventsFiltered(events);   \n\n    }, [users, eventsAll]);\n\n    const onDoubleClick = (event: CalendarEv): void => {\n        dispatch(openModal());\n    };\n\n    const onSelectEvent = (event: CalendarEv): void => {\n        dispatch(setActive(event));\n    };\n\n    const onViewChange = (view: View): void => {\n        setLastView(view);\n        localStorage.setItem('lastView', view);\n    };\n\n    const eventStyleGetter = (event: CalendarEv, start: stringOrDate, end: stringOrDate, isSelected: boolean): React.HTMLAttributes<HTMLDivElement> => {\n\n        const style = {\n            backgroundColor: auth._id === event.user._id ? '#367CF7': '#465660',\n            borderRadius: '0px',\n            opacity: 0.8,\n            display: 'block',\n            color: 'white'\n        };\n\n        return {\n            style\n        };\n    };  \n    \n    const onSelectSlot = (info: SlotInfo) => {\n        const item: CalendarEv = {\n            title: '',\n            start: info.start as Date,\n            endDate: info.end as Date,\n            user: {\n                _id: auth._id,\n                name: auth.name,\n                email: auth.email\n            },\n            notes: ''\n        }\n        dispatch(setActive(item));\n        dispatch(openModal());\n\n    };\n    \n    return (\n        <div className=\"calendar-screen\">\n            <Navbar />\n\n            <Filter />\n\n            <Calendar\n                localizer={ localizer }\n                events={ eventsFiltered }\n                startAccessor=\"start\"\n                endAccessor={(event: CalendarEv) => event.endDate || event.start}\n                messages={ messages }\n                eventPropGetter={ eventStyleGetter }\n                onDoubleClickEvent={ onDoubleClick }\n                onSelectEvent={ onSelectEvent }\n                onView={ onViewChange }\n                view={ lastView }\n                components={{\n                    event: CalendarEvent\n                }}\n                onSelectSlot={ onSelectSlot }\n                selectable={ true }\n            />\n\n            <CalendarModal />\n\n            <AddNewFab />\n            { calendar.activeEvent?.id && <DeleteFab /> }\n\n        </div>\n    )\n};","import moment from 'moment'\nimport { CalendarEv } from \"../store/calendar/types\";\n\nexport const prepareCalendarEvs = (calendarEvs: CalendarEv[]) => {\n    return calendarEvs.map( e => {\n        return {\n            ...e,\n            start: moment(e.start).toDate(),\n            endDate: moment(e.endDate).toDate()\n        }\n    });\n};","import { FormEvent, useState } from 'react'\n\nconst useForm = <D>(initialState: any = {}) => {\n\n    const [values, setValues] = useState<D>(initialState);\n\n    const reset = () => {\n        setValues(initialState);\n    }\n\n    const handleInputChange = (event: FormEvent<HTMLInputElement> | FormEvent<HTMLTextAreaElement>): void => {\n        const target = event.target as HTMLTextAreaElement | HTMLTextAreaElement;\n\n        setValues({\n            ...values,\n            [target.name]: target.value\n        })\n    }\n\n    return [values, handleInputChange, reset] as const;\n}\n\nexport default useForm;","import React, { FormEvent } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport validator from 'validator';\n\nimport useForm from '../../hooks/useForm';\nimport { startLogin } from '../../store/auth/action';\nimport './auth.css';\n\nexport const LoginScreen: React.FC = () => {\n\n    interface LoginForm {\n        email: string;\n        password: string;\n    };\n\n    const initFormValues: LoginForm = {\n        email: '',\n        password: ''\n    };\n\n    const dispatch = useDispatch();\n\n    const [ formValues, handleInputChange ] = useForm<LoginForm>(initFormValues);\n    \n    const { email, password } = formValues;\n\n    const handleSubmitForm = (e: FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        if (!validator.isEmail(email)) {\n\n            return false;\n\n        } else if (!password || password.length < 5) {\n\n            return false;\n\n        }\n\n        dispatch(startLogin(email, password));\n\n    };\n\n    return (\n        <div className=\"container login-container\">\n            <div className=\"row\">\n                <div className=\"col-md-6 login-form-1\">\n                    <h3>Ingreso</h3>\n                    <form onSubmit={ handleSubmitForm }>\n                        <div className=\"form-group\">\n                            <input \n                                type=\"text\"\n                                name=\"email\"\n                                className=\"form-control\"\n                                placeholder=\"Correo\"\n                                value={ email }\n                                onChange={ handleInputChange }\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                name=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Contraseña\"\n                                value={ password }\n                                onChange={ handleInputChange }\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input \n                                type=\"submit\"\n                                className=\"btnSubmit\"\n                                value=\"Login\" \n                            />\n                        </div>\n                        <Link\n                            to=\"/auth/register\"\n                            className=\"link\"    \n                        >\n                            Crea una nueva cuenta\n                        </Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n};","import React, { FormEvent } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport validator from 'validator';\nimport useForm from '../../hooks/useForm';\nimport { startRegister } from '../../store/auth/action';\nimport './auth.css';\n\nexport const RegisterScreen: React.FC = () => {\n\n    interface RgisterForm {\n        name: string;\n        email: string;\n        password1: string;\n        password2: string;\n    };\n\n    const initFormValues: RgisterForm = {\n        name: '',\n        email: '',\n        password1: '',\n        password2: ''\n    };\n\n    const dispatch = useDispatch();\n\n    const [ formValues, handleInputChange ] = useForm<RgisterForm>(initFormValues);\n    \n    const { name, email, password1, password2 } = formValues;\n\n    const handleSubmitForm = (e: FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n\n        if (name.trim().length === 0) {\n            Swal.fire('Error', 'Nombre es requerido', 'error');\n            return false;\n\n        } else if (!validator.isEmail(email)) {\n            Swal.fire('Error', 'Email inválido', 'error');\n            return false;\n\n        }else if (password1 !== password2 || password1.length < 5) {\n            Swal.fire('Error', 'Contraseña debe tener al enos 6 caracteres y deben coincidir', 'error');\n            return false;\n\n        }\n\n        dispatch(startRegister(name, email, password1));\n\n    };\n\n    return (\n        <div className=\"container login-container\">\n            <div className=\"row\">\n                <div className=\"col-md-6 login-form-2\">\n                    <h3>Registro</h3>\n                    <form onSubmit={ handleSubmitForm }>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Nombre\"\n                                name=\"name\"\n                                autoComplete=\"off\"\n                                value={ name }\n                                onChange={ handleInputChange }\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                placeholder=\"Correo\"\n                                name=\"email\"\n                                autoComplete=\"off\"\n                                value={ email }\n                                onChange={ handleInputChange }\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Contraseña\" \n                                name=\"password\"\n                                value={ password1 }\n                                onChange={ handleInputChange }\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input\n                                type=\"password\"\n                                className=\"form-control\"\n                                placeholder=\"Repita la contraseña\" \n                                name=\"password2\"\n                                value={ password2 }\n                                onChange={ handleInputChange }\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <input \n                                type=\"submit\" \n                                className=\"btnSubmit\" \n                                value=\"Crear cuenta\" />\n                        </div>\n\n                        <Link\n                            className=\"link-register\"\n                            to=\"/auth/login\"\n                        >\n                            ¿Ya registrado?\n                        </Link>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n};","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { LoginScreen } from '../components/auth/LoginScreen';\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\n\nexport const AuthRouter: React.FC = () => {\n    return (\n            <Switch>\n\n                <Route exact path=\"/auth/login\" component={ LoginScreen } />\n\n                <Route exact path=\"/auth/register\" component={ RegisterScreen } />\n\n                <Redirect to=\"/auth/login\" />\n\n            </Switch>\n    )\n};","import React from 'react';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport interface ProtectedRouteProps extends RouteProps {\n    isAuthenticated: boolean;\n};\n\nexport const PrivateRoute: React.FC<ProtectedRouteProps> = ({isAuthenticated, component, ...rest}: ProtectedRouteProps) => {\n\n    const Component: React.ComponentType<any> = component as React.ComponentType<any>;\n\n    return (\n        <Route \n            { ...rest }\n\n            component={ (props: RouteProps) => (\n\n                (isAuthenticated) \n                ? (<Component { ...props } />)\n\n                : (<Redirect to=\"/auth/login\" />)\n\n            )}\n        \n        />\n    )\n};\n\nPrivateRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired\n};","import React from 'react';\nimport { Redirect, Route, RouteProps } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport interface ProtectedRouteProps extends RouteProps {\n    isAuthenticated: boolean;\n};\n\nexport const PublicRoute: React.FC<ProtectedRouteProps> = ({isAuthenticated, component, ...rest}: ProtectedRouteProps) => {\n\n    const Component: React.ComponentType<any> = component as React.ComponentType<any>;\n\n    return (\n        <Route \n            { ...rest }\n\n            component={ (props: RouteProps) => (\n\n                (!isAuthenticated) \n                ? (<Component { ...props } />)\n\n                : (<Redirect to=\"/\" />)\n\n            )}\n        \n        />\n    )\n};\n\nPublicRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired\n};","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    HashRouter as Router,\n    Switch,\n    Redirect\n} from 'react-router-dom';\nimport { CalendarScreen } from '../components/calendar/CalendarScreen';\nimport { RootState } from '../store';\nimport { startChecking } from '../store/auth/action';\nimport { AuthRouter } from './AuthRouter';\nimport { PrivateRoute } from './PrivateRoute';\nimport { PublicRoute } from './PublicRoute';\n\n\nexport const AppRouter: React.FC = () => {\n\n    const dispatch = useDispatch();\n\n    const { checking, _id } = useSelector((state: RootState) => state.auth);\n    const existsUID = _id !== undefined;\n\n    useEffect(() => {\n        dispatch(startChecking());\n    }, [dispatch])\n\n    if (checking) {\n        return (<h1>Espere...</h1>)\n    }\n\n    console.log('existsUID', existsUID)\n    return (\n        <Router>\n            <div>\n                <Switch>\n                    <PublicRoute isAuthenticated={ existsUID } component={ AuthRouter } path=\"/auth\" />\n\n                    <PrivateRoute isAuthenticated={ existsUID } component={ CalendarScreen } path=\"/\" exact/>\n\n                    <Redirect to=\"/auth/login\" />\n\n                    {/* <Route path=\"/auth\" component={ AuthRouter }/>\n                    <Route exact path=\"/\" component={ CalendarScreen } /> \n                    <Redirect to=\"/auth/login\" /> */}\n                </Switch>\n            </div>\n        </Router>\n    )\n};","import { ModalActionTypes, ModalState, uiCloseModal, uiOpenModal } from \"./types\";\n\nconst initialState: ModalState = {\n    modalOpen: false\n};\n\nexport const modalReducer = (state = initialState, action: ModalActionTypes): ModalState => {\n\n    switch (action.type) {\n        case uiOpenModal:            \n            return {\n                ...state,\n                modalOpen: true\n            };\n\n        case uiCloseModal:        \n            return {\n                ...state,\n                modalOpen: false\n            };\n    \n        default:\n            return state;\n    }\n\n};","import { CalendarActionTypes, calendarAddNew, calendarClearActive, calendarDelete, CalendarEv, calendarLoad, calendarReset, calendarSetActive, calendarUpdate} from \"./types\";\n\n\nconst events: CalendarEv[] = [];\n\nconst initialState = {\n    events,\n    activeEvent: null\n};\n\nexport const calendarReducer = (state = initialState, action: CalendarActionTypes) => {\n\n    switch (action.type) {\n        case calendarAddNew:\n            return {\n                ...state,\n                events: [action.payload, ...state.events]\n            };\n\n        case calendarSetActive:\n            return {\n                ...state,\n                activeEvent: action.payload\n            };\n\n        case calendarClearActive:\n            return {\n                ...state,\n                activeEvent: null\n            };\n\n        case calendarUpdate:\n            return {\n                ...state,\n                events: state.events.map(\n                    (e: CalendarEv) => (e.id === action.payload.id) ? action.payload : e\n                )\n            };\n\n        case calendarDelete:\n            return {\n                ...state,\n                events: state.events.filter((e: CalendarEv) => e.id !== action.payload),\n                activeEvent: null\n            };\n\n        case calendarLoad:\n            return {\n                ...state,\n                events: [...action.payload]\n            };\n\n        case calendarReset:\n            return {\n                ...initialState\n            };\n\n        default:\n            return state;\n    }\n\n};","import { AuthActionTypes, authCheckingFinish, authLogin, authLogout } from \"./types\";\n\nconst initialState = {\n    checking: true,\n    //uid: null,\n    //name: null\n};\n\n\nexport const authReducer = (state = initialState, action: AuthActionTypes) => {\n    switch (action.type) {\n        case authLogin:\n            return {\n                ...state,\n                ...action.payload,\n                checking: false                \n            };\n\n        case authCheckingFinish:\n            return {\n                ...state,\n                checking: false\n            };\n        \n            case authLogout:\n                return {\n                   checking: false \n                };\n    \n        default:\n            return state;\n    }\n};","import { UserActionTypes, usersLoad, UserState } from \"./types\";\n\nconst initialState: UserState = {\n    users: []\n};\n\nexport const userReducer = (state = initialState, action: UserActionTypes): UserState => {\n\n    switch (action.type) {\n\n        case usersLoad:\n            return {\n                ...state,\n                users: [...action.payload]\n            }\n    \n        default:\n            return state;\n    }\n\n};","import { FilterActionTypes, filterAddUser, FilterState } from \"./types\";\n\nconst initialState: FilterState = {\n    users: []\n};\n\nexport const filterReducer = (state = initialState, action: FilterActionTypes): FilterState => {\n\n    switch (action.type) {\n\n        case filterAddUser:\n            return {\n                ...state,\n                users: [...action.payload]\n\n            }\n    \n        default:\n            return state;\n    }\n\n};","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport { modalReducer } from './modal/reducer';\nimport { calendarReducer } from './calendar/reducer';\nimport { authReducer } from './auth/reducer';\nimport { userReducer } from './user/reducer';\nimport { filterReducer } from './filter/reducer';\n\nimport { ModalState } from './modal/types';\nimport { CalendarState } from './calendar/types';\nimport { CalendarUser } from './auth/types';\nimport { UserState } from './user/types';\nimport { FilterState } from './filter/types';\n\n\n\n\ndeclare global {\n    interface Window {\n      __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n    }\n};\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport interface RootState {\n    modal: ModalState;\n    calendar: CalendarState;\n    auth: CalendarUser;\n    user: UserState;\n    filter: FilterState;\n}\n\nexport const rootReducer = combineReducers({\n    modal: modalReducer,\n    calendar: calendarReducer,\n    auth: authReducer,\n    user: userReducer,\n    filter: filterReducer\n});\n\nexport const store = createStore(\n    rootReducer,\n    composeEnhancers(applyMiddleware(thunk))\n);","import React, { FC, ReactElement }  from 'react';\nimport { Provider } from 'react-redux';\nimport { AppRouter } from './routers/AppRouter';\nimport { store } from './store';\nexport const CalendarApp: FC = (): ReactElement => {\n    return (\n        <Provider store={ store } >\n            <AppRouter />\n        </Provider>\n    )\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles.css';\n\nReactDOM.render(\n\t<CalendarApp />,\n \tdocument.getElementById('root')\n);"],"sourceRoot":""}